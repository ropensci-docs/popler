<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="popler">
<title>Introduction to popler • popler</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to popler">
<meta property="og:description" content="popler">
<meta property="og:image" content="https://docs.ropensci.org/popler/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">popler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/introduction-to-popler.html">Introduction to popler</a>
    <a class="dropdown-item" href="../articles/popler-database-structure.html">Popler Database</a>
    <a class="dropdown-item" href="../articles/vetting-popler.html">Vetting popler</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/popler/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to popler</h1>
                        <h4 data-toc-skip class="author">Aldo Compagnoni, Sam Levin</h4>
            
            <h4 data-toc-skip class="date">2023-05-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/popler/blob/HEAD/vignettes/introduction-to-popler.Rmd" class="external-link"><code>vignettes/introduction-to-popler.Rmd</code></a></small>
      <div class="d-none name"><code>introduction-to-popler.Rmd</code></div>
    </div>

    
    
<p>The popler R package is an interface that allows browsing and querying population data collected at Long Term Ecological Research (LTER) network sites located across the United States of America. A subset of the population data from the LTER network is contained in an online database called <code>popler</code>. The popler R package is an interface to this online database, allowing users to:</p>
<ul>
<li>explore <em>what</em> type of population data is contained in the <code>popler</code> database</li>
<li>download data contained in the <code>popler</code> database</li>
<li>filter and validate the data once it is downloaded</li>
</ul>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The popler R package is currently in the development phase, and it should be downloaded directly from its <a href="https://github.com/AldoCompagnoni/popler" class="external-link">GitHub page</a>. Before doing this, make sure to install the <a href="https://cran.r-project.org/web/packages/devtools/README.html" class="external-link">devtools R package</a>. Once devtools is installed on your machine, install and load popler:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::install_github("AldoCompagnoni/popler", build_vignettes = TRUE)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/popler">popler</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="metadata-what-type-of-data-is-contained-in-the-popler-database">Metadata: <em>what</em> type of data is contained in the popler database?<a class="anchor" aria-label="anchor" href="#metadata-what-type-of-data-is-contained-in-the-popler-database"></a>
</h2>
<p><code>popler</code> provides data from hundreds of research projects. The metadata of these projects allow understanding <em>what</em> population data are provided by each project. The <code>popler</code> R package provides three functions to explore these metadata.</p>
<div class="section level3">
<h3 id="pplr_dictionary">pplr_dictionary()<a class="anchor" aria-label="anchor" href="#pplr_dictionary"></a>
</h3>
<p><code><a href="../reference/pplr_dictionary.html">pplr_dictionary()</a></code> shows:</p>
<ul>
<li>what the variables contained in the metadata of each project and their meaning are.</li>
<li>what data these variables contain.</li>
</ul>
<p>To see metadata variables and their meaning:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/pplr_dictionary.html">pplr_dictionary</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##             variable                                             description</span></span>
<span><span class="co">## 1              title                                        title of project</span></span>
<span><span class="co">## 2  proj_metadata_key                                       unique project id</span></span>
<span><span class="co">## 3             lterid                                               lter name</span></span>
<span><span class="co">## 4           datatype             type of abundance data (e.g. count,biomass)</span></span>
<span><span class="co">## 5    structured_data are abundance observations grouped (e.g. based on age)?</span></span>
<span><span class="co">## 6          studytype                    experimental or observational study?</span></span>
<span><span class="co">## 7     duration_years                            duration of project in years</span></span>
<span><span class="co">## 8          community                    does data set contain multiple taxa?</span></span>
<span><span class="co">## 9          structure                           types of indidivual structure</span></span>
<span><span class="co">## 10         treatment                                      types of treatment</span></span>
<span><span class="co">## 11          lat_lter                                      lter site latitude</span></span>
<span><span class="co">## 12          lng_lter                                     lter site longitude</span></span>
<span><span class="co">## 13           species                    specific epithet of a taxonomic unit</span></span>
<span><span class="co">## 14           kingdom                                                 kingdom</span></span>
<span><span class="co">## 15            phylum                                                  phylum</span></span>
<span><span class="co">## 16             class                                                   class</span></span>
<span><span class="co">## 17             order                                                   order</span></span>
<span><span class="co">## 18            family                                                  family</span></span>
<span><span class="co">## 19             genus                                                   genus</span></span></code></pre>
<p>To show what data each variable actually contains, specify one or more variable:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/pplr_dictionary.html">pplr_dictionary</a></span><span class="op">(</span><span class="va">lterid</span>, <span class="va">duration_years</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $`lterid (NA)`</span></span>
<span><span class="co">##  [1] "SBC" "SEV" "SGS" "VCR" "AND" "NWT" "BNZ" "CDR" "GCE" "ARC" "CAP" "FCE"</span></span>
<span><span class="co">## [13] "HFR" "KBS" "CWT" "HBR" "MCM" "JRN" "CCE" "KNZ" "LUQ" "MCR" "NTL" "PAL"</span></span>
<span><span class="co">## [25] "PIE"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`duration_years (NA)`</span></span>
<span><span class="co">##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. </span></span>
<span><span class="co">##  0.00000  9.00000 12.00000 15.87258 20.00000 86.00000</span></span></code></pre>
<p>Last, but not least, the same information provided by <code>pplr_dictionary</code> can be visualized in an html page containing hyperlinks. To open such html page, execute the <code>pplr_report_dictionary</code> function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/pplr_report_dictionary.html">pplr_report_dictionary</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pplr_browse">pplr_browse()<a class="anchor" aria-label="anchor" href="#pplr_browse"></a>
</h3>
<p><code><a href="../reference/pplr_browse.html">pplr_browse()</a></code> accesses and subsets the popler metadata table directly. Calling the function returns a table that contains the metadata of all the projects in <code>popler</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_studies</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pplr_browse.html">pplr_browse</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This metadata table can be subset by specifying a logical expression. This is useful to focus on datasets of interest.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">poa_metadata</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pplr_browse.html">pplr_browse</a></span><span class="op">(</span><span class="va">genus</span> <span class="op">==</span> <span class="st">"Poa"</span> <span class="op">&amp;</span> <span class="va">species</span> <span class="op">==</span> <span class="st">"fendleriana"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: `tbl_df()` was deprecated in dplyr 1.0.0.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Please use `tibble::as_tibble()` instead.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> The deprecated feature was likely used in the <span style="color: #0000BB;">popler</span> package.</span></span>
<span><span class="co">##   Please report the issue at <span style="color: #0000BB; font-style: italic;">&lt;https://github.com/ropensci/popler/issues&gt;</span>.</span></span>
<span><span class="co">## <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">## <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">## <span style="color: #555555;">generated.</span></span></span></code></pre>
<pre><code><span><span class="co">## Warning: The `.dots` argument of `group_by()` is deprecated as of dplyr 1.0.0.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> The deprecated feature was likely used in the <span style="color: #0000BB;">dplyr</span> package.</span></span>
<span><span class="co">##   Please report the issue at <span style="color: #0000BB; font-style: italic;">&lt;https://github.com/tidyverse/dplyr/issues&gt;</span>.</span></span>
<span><span class="co">## <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">## <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">## <span style="color: #555555;">generated.</span></span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">poa_metadata</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 4 × 20</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Groups:   title, proj_metadata_key, lterid, datatype, structured_data,</span></span></span>
<span><span class="co"><span style="color: #949494;">## #   studytype, duration_years, community, studystartyr, studyendyr,</span></span></span>
<span><span class="co"><span style="color: #949494;">## #   structured_type_1, structured_type_2, structured_type_3, structured_type_4,</span></span></span>
<span><span class="co"><span style="color: #949494;">## #   treatment_type_1, treatment_type_2, treatment_type_3, lat_lter, lng_lter</span></span></span>
<span><span class="co"><span style="color: #949494;">## #   [4]</span></span></span>
<span><span class="co">##   title              proj_metadata_key lterid datatype structured_data studytype</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> Livestock Exclosu…                35 SEV    cover    no              exp      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> Pinon Juniper Net…                36 SEV    cover    yes             obs      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> Pinon-Juniper (Co…                53 SEV    cover    yes             obs      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> Transect Plant Li…               681 JRN    cover    no              obs      </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 14 more variables: duration_years &lt;int&gt;, community &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   studystartyr &lt;chr&gt;, studyendyr &lt;chr&gt;, structured_type_1 &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   structured_type_2 &lt;chr&gt;, structured_type_3 &lt;chr&gt;, structured_type_4 &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   treatment_type_1 &lt;chr&gt;, treatment_type_2 &lt;chr&gt;, treatment_type_3 &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   lat_lter &lt;dbl&gt;, lng_lter &lt;dbl&gt;, taxas &lt;named list&gt;</span></span></span></code></pre>
<p>Moreover, akin to <code><a href="../reference/pplr_report_dictionary.html">pplr_report_dictionary()</a></code>, browse can generate a report and open it as an html page. To do so, set the <code>report</code> variable to <code>TRUE</code>. Alternatively, you can pass an object created by <code><a href="../reference/pplr_browse.html">pplr_browse()</a></code> to <code><a href="../reference/pplr_report_metadata.html">pplr_report_metadata()</a></code> to create the same report.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/pplr_browse.html">pplr_browse</a></span><span class="op">(</span><span class="va">lterid</span> <span class="op">==</span> <span class="st">"SEV"</span>, report <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">SEV</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pplr_browse.html">pplr_browse</a></span><span class="op">(</span><span class="va">lterid</span> <span class="op">==</span> <span class="st">"SEV"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/pplr_report_metadata.html">pplr_report_metadata</a></span><span class="op">(</span><span class="va">SEV</span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="the-keyword-argument">The keyword argument<a class="anchor" aria-label="anchor" href="#the-keyword-argument"></a>
</h4>
<p><code><a href="../reference/pplr_browse.html">pplr_browse()</a></code> can also single out projects based on partial matching across the metadata variables that contain characters. Specify the character string you want to search using the <code>keyword</code> argument (note that this function ignores variables that contain numeric values):</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/pplr_browse.html">pplr_browse</a></span><span class="op">(</span>keyword <span class="op">=</span> <span class="st">"parasite"</span>, report <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="download-data">Download data<a class="anchor" aria-label="anchor" href="#download-data"></a>
</h2>
<p>Once you identified one or more datasets of interest, download their raw data using <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code>. You can use this function to download data in three ways:</p>
<ol style="list-style-type: decimal">
<li><p>Providing <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code> with an object created through <code><a href="../reference/pplr_browse.html">pplr_browse()</a></code>.</p></li>
<li><p>Providing <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code> with an object created by <code><a href="../reference/pplr_browse.html">pplr_browse()</a></code>, and with an additional logical expression to further subset this object of class <code>browse</code>.</p></li>
<li><p>Providing <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code> with a logical expression. This logical expression will typically indicate the specific project(s) the user is interested in downloading.</p></li>
</ol>
<p>Below are examples on the three ways to use <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># option 1</span></span>
<span><span class="va">poa_metadata</span>    <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pplr_browse.html">pplr_browse</a></span><span class="op">(</span><span class="va">genus</span> <span class="op">==</span> <span class="st">"Poa"</span> <span class="op">&amp;</span> <span class="va">species</span> <span class="op">==</span> <span class="st">"fendleriana"</span><span class="op">)</span> </span>
<span><span class="va">poa_data</span>        <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pplr_get_data.html">pplr_get_data</a></span><span class="op">(</span><span class="va">poa_metadata</span><span class="op">)</span> </span>
<span><span class="co"># option 2</span></span>
<span><span class="va">poa_data_11</span>     <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pplr_get_data.html">pplr_get_data</a></span><span class="op">(</span><span class="va">poa_metadata</span>, <span class="va">duration_years</span> <span class="op">&gt;</span> <span class="fl">10</span><span class="op">)</span> </span>
<span><span class="co"># option 3</span></span>
<span><span class="va">parasite_data</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pplr_get_data.html">pplr_get_data</a></span><span class="op">(</span><span class="va">proj_metadata_key</span> <span class="op">==</span> <span class="fl">25</span><span class="op">)</span> </span></code></pre></div>
<p>Here, we emphasize two important characteristics of <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code>. First, similarly to <code><a href="../reference/pplr_browse.html">pplr_browse()</a></code>, the function selects datasets based on the variables described in <code><a href="../reference/pplr_dictionary.html">pplr_dictionary()</a></code>. Second, <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code> will download entire datasets that satisfy user-defined conditions. Hence, for example, in the example above where <code>genus == "Poa" &amp; species == "fendleriana"</code>, the function will download three datasets which will include data on <em>Poa fendleriana</em>, along with the many other taxa that happen to co-occur with <em>Poa fendleriana</em> in those datasets.</p>
<p>In case you are using a slow internet connection, datasets may take some time to download. Therefore, <code>popler</code> provides two utility functions for saving downloaded data locally and efficiently. They are thin wrappers around <code>saveRDS</code> and <code>readRDS</code> that allow you to store large data sets in highly compressed formats. <code>.rds</code> files also have the advantage of rapid read and write times from R, making them optimal for saving data sets for later usage. Note from the examples below: you should <em>not</em> specify the file type when specifying the path.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># save the large data set for later usage</span></span>
<span><span class="fu">pplr_save</span><span class="op">(</span><span class="va">poa_data</span>, file <span class="op">=</span> <span class="st">"some/file/path/Poa_Data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># when you're ready to use it again, pick up where you left off.</span></span>
<span></span>
<span><span class="va">poa_data_reloaded</span> <span class="op">&lt;-</span> <span class="fu">pplr_load</span><span class="op">(</span>file <span class="op">=</span> <span class="st">"some/file/path/Poa_Data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># These will be identical</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">poa_data</span>, <span class="va">poa_data_reloaded</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="carefully-vet-the-methods-of-downloaded-data-sets-">Carefully vet the methods of downloaded data sets.<a class="anchor" aria-label="anchor" href="#carefully-vet-the-methods-of-downloaded-data-sets-"></a>
</h3>
<p>We urge the user to carefully read the documentation of each project before using it for research purposes. Data sets downloaded with <code>popler</code> share the same data structure, but each project has its peculiarities. To show the <em>metadata</em> of the downloaded data sets, use <code>pplr_report_metadata</code> on the data object produced by <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code>. To read the <em>methods</em> of each project, click on the ‘metadata link’ hyperlink provided in the html page.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/pplr_report_metadata.html">pplr_report_metadata</a></span><span class="op">(</span><span class="va">poa_data</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data-structure">Data structure<a class="anchor" aria-label="anchor" href="#data-structure"></a>
</h3>
<p>In <code>popler</code>, datasets are objects produced by <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code> which have the same structure. This structure is documented formally in <code><a href="../articles/popler-database-structure.html">vignette('popler-database-structure', package = 'popler')</a></code>. Here, we provide a brief description on how spatial replicates and taxonomic information are stored in the database.</p>
<p>Spatial replicates are identified using variables that match the patterns <code>spatial_replication_level_X</code> and <code>spatial_replication_level_X_label</code>. Here <code>X</code> is a number referring to one of maximum 5 <em>nested</em> levels of spatial replication. <code>X</code> can vary from 1 to 5, with 1 referring to the largest spatial replication level - the one within which are nested all smaller spatial replicates. So for example, <code>spatial_replication_level_1</code> can represent a site, and <code>spatial_replication_level_2</code> represents a plot. In this specific case, <code>spatial_replication_level_1_label</code> will contain the string ‘site’, and <code>spatial_replication_level_2_label</code> will contain the string ‘plot’.</p>
<p>Taxonomic units are identified through species codes in the <code>sppcode</code> variable, or through the <code>genus</code> and <code>species</code> variables. The <code>sppcode</code> variable usually contains alphanumeric codes. The <code>genus</code> and <code>species</code> variables are Latin binomial name. Occasionally, some datasets will contain higher taxonomic classifications (such as <code>family</code>, <code>class</code>, etc.).</p>
</div>
<div class="section level3">
<h3 id="spatio-temporal-replication">Spatio-temporal replication<a class="anchor" aria-label="anchor" href="#spatio-temporal-replication"></a>
</h3>
<p>Users can explore the level of temporal replication at each nested level of spatial replication using the <code><a href="../reference/pplr_site_rep.html">pplr_site_rep_plot()</a></code> and <code><a href="../reference/pplr_site_rep.html">pplr_site_rep()</a></code> functions.</p>
<p><code><a href="../reference/pplr_site_rep.html">pplr_site_rep_plot()</a></code> produces a scatterplot that shows which sites (<code>spatial_replication_level_1</code>) were sampled in a given year.</p>
<p><code><a href="../reference/pplr_site_rep.html">pplr_site_rep()</a></code> allows the user to subset datasets downloaded by <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code> based on the <em>frequency</em> and <em>number of yearly replicates</em> contained at a specific level of spatial replication. For example, this function allows to identify the replicates of the second level of spatial replication (e.g. plots within sites) which contain two samples per years (their frequency), for 10 years (the number of yearly replicates). <code><a href="../reference/pplr_site_rep.html">pplr_site_rep()</a></code> returns a logical vector to subset the <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code> object. For additional examples on how to explore and vet <code>popler</code> data, see <code><a href="../articles/vetting-popler.html">vignette('vetting-popler', package = 'popler')</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="extra-covariates">Extra covariates<a class="anchor" aria-label="anchor" href="#extra-covariates"></a>
</h2>
<p>Most data sets provided by the USA LTER network contain more variables than those accommodated by the schema of <code>popler</code>. In order not to loose the original data, <code>popler</code> stores all extra information in a character variable named <code>covariates</code>. The <code>popler</code> package provides two ways to format these covariates into a data frame: the <code>cov_unpack</code> argument in <code>pplr_get data()</code>, and the <code><a href="../reference/pplr_cov_unpack.html">pplr_cov_unpack()</a></code> function in <code>popler</code>.</p>
<p>Setting the <code>cov_unpack</code> argument to <code>TRUE</code> returns a data frame that combines the variables of a default query to popler, and the covariates contained in each particular study downloaded through popler:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d_47_cov</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pplr_get_data.html">pplr_get_data</a></span><span class="op">(</span><span class="va">proj_metadata_key</span> <span class="op">==</span> <span class="fl">47</span>, cov_unpack <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code>## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |======================================================================| 100%</code></pre>
<pre><code><span><span class="co">## You have downloaded data from 1 project.</span></span>
<span><span class="co">## The identification number of this project is: 47.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## To learn more about study design, use metadata_url()</span></span>
<span><span class="co">## To cite the study, use pplr_citation().</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">d_47_cov</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   year month day spatial_replication_level_1 spatial_replication_level_2</span></span>
<span><span class="co">## 1 2010     6  18 site_sev_pdog_restoration_B                          NA</span></span>
<span><span class="co">## 2 2010     6  18 site_sev_pdog_restoration_B                          NA</span></span>
<span><span class="co">## 3 2010     6  18 site_sev_pdog_restoration_B                          NA</span></span>
<span><span class="co">## 4 2010     6  18 site_sev_pdog_restoration_B                          NA</span></span>
<span><span class="co">## 5 2010     6  18 site_sev_pdog_restoration_B                          NA</span></span>
<span><span class="co">## 6 2010     6  18 site_sev_pdog_restoration_B                          NA</span></span>
<span><span class="co">##   treatment_type_1 structure_type_1 structure_type_2 structure_type_3</span></span>
<span><span class="co">## 1                B              349                M                A</span></span>
<span><span class="co">## 2                B              348                M                A</span></span>
<span><span class="co">## 3                B              347                M                A</span></span>
<span><span class="co">## 4                B              245                M                A</span></span>
<span><span class="co">## 5                B              244                M                A</span></span>
<span><span class="co">## 6                B               NA                M                A</span></span>
<span><span class="co">##   abundance_observation structure_type_4                       authors</span></span>
<span><span class="co">## 1                     1             1085 Ana Davidson, Stephanie Baker</span></span>
<span><span class="co">## 2                     1             1580 Ana Davidson, Stephanie Baker</span></span>
<span><span class="co">## 3                     1             1350 Ana Davidson, Stephanie Baker</span></span>
<span><span class="co">## 4                     1             1130 Ana Davidson, Stephanie Baker</span></span>
<span><span class="co">## 5                     1             1480 Ana Davidson, Stephanie Baker</span></span>
<span><span class="co">## 6                     1             1140 Ana Davidson, Stephanie Baker</span></span>
<span><span class="co">##                               authors_contact   genus   species   datatype</span></span>
<span><span class="co">## 1 davidson@unm.edu, srbaker@sevilleta.unm.edu Cynomys gunnisoni individual</span></span>
<span><span class="co">## 2 davidson@unm.edu, srbaker@sevilleta.unm.edu Cynomys gunnisoni individual</span></span>
<span><span class="co">## 3 davidson@unm.edu, srbaker@sevilleta.unm.edu Cynomys gunnisoni individual</span></span>
<span><span class="co">## 4 davidson@unm.edu, srbaker@sevilleta.unm.edu Cynomys gunnisoni individual</span></span>
<span><span class="co">## 5 davidson@unm.edu, srbaker@sevilleta.unm.edu Cynomys gunnisoni individual</span></span>
<span><span class="co">## 6 davidson@unm.edu, srbaker@sevilleta.unm.edu Cynomys gunnisoni individual</span></span>
<span><span class="co">##   spatial_replication_level_1_label spatial_replication_level_2_label</span></span>
<span><span class="co">## 1                              PLOT                      Capture_Site</span></span>
<span><span class="co">## 2                              PLOT                      Capture_Site</span></span>
<span><span class="co">## 3                              PLOT                      Capture_Site</span></span>
<span><span class="co">## 4                              PLOT                      Capture_Site</span></span>
<span><span class="co">## 5                              PLOT                      Capture_Site</span></span>
<span><span class="co">## 6                              PLOT                      Capture_Site</span></span>
<span><span class="co">##   proj_metadata_key X1_label X1_value X2_label X2_value X3_label X3_value</span></span>
<span><span class="co">## 1                47   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE</span></span>
<span><span class="co">## 2                47   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE</span></span>
<span><span class="co">## 3                47   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE</span></span>
<span><span class="co">## 4                47   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE</span></span>
<span><span class="co">## 5                47   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE</span></span>
<span><span class="co">## 6                47   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE</span></span>
<span><span class="co">##   X4_label X4_value X5_label X5_value X6_label X6_value     X7_label</span></span>
<span><span class="co">## 1 Comments       NA  PIT_TAG       NA TAG_2_RT    249.0 Capture_Site</span></span>
<span><span class="co">## 2 Comments       NA  PIT_TAG       NA TAG_2_RT    248.0 Capture_Site</span></span>
<span><span class="co">## 3 Comments       NA  PIT_TAG       NA TAG_2_RT    246.0 Capture_Site</span></span>
<span><span class="co">## 4 Comments       NA  PIT_TAG       NA TAG_2_RT    346.0 Capture_Site</span></span>
<span><span class="co">## 5 Comments       NA  PIT_TAG       NA TAG_2_RT       NA Capture_Site</span></span>
<span><span class="co">## 6 Comments       NA  PIT_TAG       NA TAG_2_RT    224.0 Capture_Site</span></span>
<span><span class="co">##      X7_value X8_label X8_value</span></span>
<span><span class="co">## 1 Las Colinas     &lt;NA&gt;     &lt;NA&gt;</span></span>
<span><span class="co">## 2 Las Colinas     &lt;NA&gt;     &lt;NA&gt;</span></span>
<span><span class="co">## 3 Las Colinas     &lt;NA&gt;     &lt;NA&gt;</span></span>
<span><span class="co">## 4 Las Colinas     &lt;NA&gt;     &lt;NA&gt;</span></span>
<span><span class="co">## 5 Las Colinas     &lt;NA&gt;     &lt;NA&gt;</span></span>
<span><span class="co">## 6 Las Colinas     &lt;NA&gt;     &lt;NA&gt;</span></span></code></pre>
<p>Using the <code><a href="../reference/pplr_cov_unpack.html">pplr_cov_unpack()</a></code> function on a data frame downloaded using <code><a href="../reference/pplr_get_data.html">pplr_get_data()</a></code> returns a <em>separate</em> data frame of the covariates contained in the downloaded object.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d_47</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pplr_get_data.html">pplr_get_data</a></span><span class="op">(</span><span class="va">proj_metadata_key</span> <span class="op">==</span> <span class="fl">47</span><span class="op">)</span></span></code></pre></div>
<pre><code>## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |======================================================================| 100%</code></pre>
<pre><code><span><span class="co">## You have downloaded data from 1 project.</span></span>
<span><span class="co">## The identification number of this project is: 47.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## To learn more about study design, use metadata_url()</span></span>
<span><span class="co">## To cite the study, use pplr_citation().</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/pplr_cov_unpack.html">pplr_cov_unpack</a></span><span class="op">(</span><span class="va">d_47</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   X1_label X1_value X2_label X2_value X3_label X3_value X4_label X4_value</span></span>
<span><span class="co">## 1   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE Comments       NA</span></span>
<span><span class="co">## 2   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE Comments       NA</span></span>
<span><span class="co">## 3   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE Comments       NA</span></span>
<span><span class="co">## 4   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE Comments       NA</span></span>
<span><span class="co">## 5   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE Comments       NA</span></span>
<span><span class="co">## 6   SEASON   SUMMER     YEAR     2010    RECAP  RELEASE Comments       NA</span></span>
<span><span class="co">##   X5_label X5_value X6_label X6_value     X7_label    X7_value X8_label</span></span>
<span><span class="co">## 1  PIT_TAG       NA TAG_2_RT    249.0 Capture_Site Las Colinas     &lt;NA&gt;</span></span>
<span><span class="co">## 2  PIT_TAG       NA TAG_2_RT    248.0 Capture_Site Las Colinas     &lt;NA&gt;</span></span>
<span><span class="co">## 3  PIT_TAG       NA TAG_2_RT    246.0 Capture_Site Las Colinas     &lt;NA&gt;</span></span>
<span><span class="co">## 4  PIT_TAG       NA TAG_2_RT    346.0 Capture_Site Las Colinas     &lt;NA&gt;</span></span>
<span><span class="co">## 5  PIT_TAG       NA TAG_2_RT       NA Capture_Site Las Colinas     &lt;NA&gt;</span></span>
<span><span class="co">## 6  PIT_TAG       NA TAG_2_RT    224.0 Capture_Site Las Colinas     &lt;NA&gt;</span></span>
<span><span class="co">##   X8_value</span></span>
<span><span class="co">## 1     &lt;NA&gt;</span></span>
<span><span class="co">## 2     &lt;NA&gt;</span></span>
<span><span class="co">## 3     &lt;NA&gt;</span></span>
<span><span class="co">## 4     &lt;NA&gt;</span></span>
<span><span class="co">## 5     &lt;NA&gt;</span></span>
<span><span class="co">## 6     &lt;NA&gt;</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://twitter.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-twitter"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
